<!DOCTYPE html>

<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="/Mods/Upvoid/Web.Tools.Common/1.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="/Mods/Upvoid/Web.Tools.Common/1.0.0/css/font-awesome.css">
    <link rel="stylesheet" href="/Mods/Upvoid/Web.Tools.Common/1.0.0/css/jquery-ui.min.css">
    
    <script src="/Mods/Upvoid/Web.Tools.Common/1.0.0/js/jquery-2.0.3.min.js" type="text/javascript" charset="utf-8" defer></script>
    <script src="/Mods/Upvoid/EfficientUI/1.0.0/js/efficientUI.js" type="text/javascript" charset="utf-8" defer></script>
    <script src="/Mods/Upvoid/Web.Tools.Common/1.0.0/js/jquery-ui.min.js" type="text/javascript" charset="utf-8" defer></script>
    
    
    <title>Settings</title>
   
    <style>
      div.checkbox a:link,
      div.checkbox a:hover,
      div.checkbox a:active,
      div.checkbox a:visited {
      text-decoration: none;
      color: #000;
      }

      select {
        background: #ccc;
      }

      select option {
        background: #fff;
        border: none;
      }
      
      .audio-slider .ui-slider-range { background: #88f; }
      .fov-slider .ui-slider-range { background: #8f8; }

    </style>

</head>
<body style="background: transparent; padding: 1em;">
    <div class="panel panel-default" style="width: 75%; max-width: 400px; margin: 50px auto 0px auto;">
        <div class="panel-body text-center InputConsumer">
        
            <ui name="Settings">
                <h1>Settings</h1>
                <p style="color: #c00;"><i class="fa fa-warning"></i> Restart the game to apply changes.</p>
                <form role="form" style="text-align: left; margin-left: 3em;">
                    
                    <uicheckbox name="Fullscreen">Fullscreen Mode</uicheckbox>
                    <uiobject name="VideoModesObject" onValue="onVideoModeChanged"></uiobject>
                    
                    <select onchange="javscript:videoModeCallback(this)" class="form-control InputConsumer" id="select-resolution" size="4">
                        <option>Native Resolution</option>
                    </select>

                    <p>Horizontal field of view: <span id="fovValue"></span></p>
                        <uislider onvalue="function(el, value) { $('#fovValue').html(value+'%'); }" options="{range:'min'}" class="fov-slider" name="FieldOfView"></uislider>
                    <p>Master Volume: <span id="masterVolumeValue"></span></p>
                        <uislider onvalue="function(el, value) { $('#masterVolumeValue').html(value+'%'); }" options="{range:'min'}" class="audio-slider" name="MasterVolume"></uislider>
                    <p>SFX Volume: <span id="sfxVolumeValue"></span></p>
                        <uislider onvalue="function(el, value) { $('#sfxVolumeValue').html(value+'%'); }" options="{range:'min'}" class="audio-slider" name="SfxVolume"></uislider>
                    <p>Music Volume: <span id="musicVolumeValue"></span></p>
                        <uislider onvalue="function(el, value) { $('#musicVolumeValue').html(value+'%'); }" options="{range:'min'}" class="audio-slider" name="MusicVolume"></uislider>

                    <uicheckbox name="Shadows">Enable Shadows</uicheckbox>
                    <uicheckbox name="Lensflares">Enable Lens Flares</uicheckbox>
                    <uicheckbox name="VolumetricScattering">Enable Volumetric Light Scattering</uicheckbox>
                    <uicheckbox name="Tonemapping">Enable Tone Mapping</uicheckbox>
                    <uicheckbox name="Fog">Enable Fog</uicheckbox>
                    <uicheckbox name="FXAA">Enable FXAA</uicheckbox>
                </form>
                <uibutton onclick="javascript:window.location.href='MainMenu.html'" name="ApplySettings">Apply</uibutton>
                <uibutton onclick="javascript:window.location.href='MainMenu.html'" name="ResetSettings">Cancel</uibutton>
                <uibutton name="ResetSettings">Reset</uibutton>
            </ui>
        </div>
    </div>
    
    <script>

       
    function onVideoModeChanged(el, obj)
    {
        var modeList = "";
        for(var i=0;i<obj.length;i++)
        {
            var curr = obj[i];
            {
                var width = curr['Width'];
                var height = curr['Height'];
                
                if(width < 0)
                    modeList += "<option>Native Resolution</option>";
                else
                    modeList += "<option>" + width + " x " + height + "</option>";
            }
        }
        $('#select-resolution').html(modeList);
    }
    
    function videoModeCallback (el) 
    {
         EfficientUI.SendCallback(el, 'VideoModeCallback', {index: el.selectedIndex});
    }
    
    </script>

</body>
</html>
