<!DOCTYPE html>
<html>
  <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="paper.bootstrap.min.css">
      <link rel="stylesheet" href="/Mods/Upvoid/Web.Tools.Common/1.0.0/css/font-awesome.css">
      <link rel="stylesheet" href="IngameGui.css">

        <script src="/Mods/Upvoid/Web.Tools.Common/1.0.0/js/jquery-2.0.3.min.js"></script>
       <script src="/Mods/Upvoid/Web.Tools.Common/1.0.0/js/jquery-ui.min.js" type="text/javascript" charset="utf-8"></script>
       <script src="/Mods/Upvoid/Web.Tools.Common/1.0.0/js/bootstrap.min.js"></script>
       <script src="/Mods/Upvoid/Web.Tools.Plots/1.0.0/plots/plots.js"></script>
       <script src="/Mods/Upvoid/EfficientUI/1.0.0/js/efficientUI.js" type="text/javascript" charset="utf-8"></script>
       <link rel="stylesheet" href="/Mods/Upvoid/Web.Tools.Common/1.0.0/css/jquery-ui.min.css">
  </head>
  <body id="ui-body">

    <!-- Crosshair -->
    <div id="crosshair" style="width: 26px; height: 26px; color: #fff; text-align: center; position: fixed; top: 50%; left: 50%; margin: -13px; text-shadow: 0px 0px 1px #000;">
        <span class="fa-stack">
            <i id="crosshair-icon" class="fa fa-stack-1x fa-plus"></i>
            <i id="crosshair-disabled" style="visibility:hidden;" class="fa fa-stack-2x fa-flip-horizontal fa-ban text-danger"></i>
        </span>
    </div>
    <ui name="Crosshair">
        <script type="text/javascript">
            function onCrosshairUpdate(el, val)
            {
                if (val)
                {
                    var ci = $('#crosshair-icon');
                    ci.attr('class', 'fa fa-stack-1x fa-' + val.IconClass);
                    ci.css('color', val.IconColor);

                    var cd = $('#crosshair-disabled');
                    cd.css('visibility', val.Disabled ? 'visible' : 'hidden');
                }
            }
        </script>
        <uiobject name="Type" onvalue="function(el, val) { onCrosshairUpdate(el, val); }"></uiobject>
    </ui>

    <!-- Tutorial -->
    <style type="text/css">
        #tutorials {
            position: absolute;
            right: 0;
            bottom: 0;
            padding: 8px;
        }
        .ingame-overlay {
            display: none;
        }
    </style>
    <script type="text/javascript">

        // Hide Popovers on clicking when not clicking inside of a popover
        $('html').on('click', function(e) {
          if (typeof $(e.target).data('original-title') == 'undefined' &&
             !$(e.target).parents().is('.popover.in')) {

            $('[data-original-title]').popover('hide');
            window.setTimeout( function(){$('.popover').remove();}, 100);
          }
        });

        EfficientUI.addTemplateUrl("Tutorials.html");

        function onCraftTypeSelect(val)
        {
            for(var i = 0; i < 3; ++i)
            {
                var el = $('.btn-craft-' + i);
                if (i == val)
                {
                    el.removeClass('btn-default');
                    el.addClass('btn-primary');
                }
                else
                {
                    el.addClass('btn-default');
                    el.removeClass('btn-primary');
                }
            }
            if (val == 0)
                $('.btn-craft').html("Craft a Box");
            else if (val == 1)
                $('.btn-craft').html("Craft a Sphere");
            else if (val == 2)
                $('.btn-craft').html("Craft a Cylinder");
        }

        function onUsageCurrent(val, type, max)
        {
            for(var i = 1; i <= max; ++i)
            {
                var el = $('.btn-'+type+'-' + i);
                if (i == val)
                {
                    el.removeClass('btn-default');
                    el.addClass('btn-primary');
                }
                else
                {
                    el.addClass('btn-default');
                    el.removeClass('btn-primary');
                }
            }
        }

        function onCanCraft(val)
        {
            var btn = $('.btn-craft');
            var text = $('.req-volume');
            if (val)
            {
                btn.removeClass('disabled');
                text.addClass('text-info');
                text.removeClass('text-danger');
            }
            else 
            {
                btn.addClass('disabled');
                text.removeClass('text-info');
                text.addClass('text-danger');
            }
        }
    </script>
    <hud name="Tutorial" id="tutorials">
        <uicollection name="TutorialMsgs"></uicollection>
        <uiobject name="Visible" onvalue="function(el, val) { $(el).parent().css('visibility', val ? 'visible' : 'hidden'); }"></uiobject>
    </hud>

    <!-- Inventory -->
    <div id="quickaccess" style="display:none;"><ul id="quickaccess-list" class="InputConsumer"></ul><div class="clear-float"></div></div>
    <div class="ingame-overlay">
        <div id="inventory" class="panel InputConsumer" style="display:none;">
            <h4>All Items</h4>
            <div id="inventory-list"></div>
            <div class="clearfix"></div>
        </div>
    </div>

    <!-- Left-centered -->
    <style type="text/css">
        #cl-menu {
            position: absolute;
            right: 50%;
            margin-right: 100px;
            top: 30px;
            bottom: 30px;
            white-space: nowrap;
        }
        #cl-menu:before {
            content: "";
            display: inline-block;
            vertical-align: middle;
            width: 0;
            margin-right: -.25em;
            height: 100%;
        }
        #cl-menu > .valign {
            display: inline-block;
            vertical-align: middle;
            width: 420px;
        }
        .inv-item {
            float: left;
            position: relative;
            padding: 4px;
            border-radius: 2px;
            box-shadow: 0 1px 6px rgba(0,0,0,.12),0 1px 6px rgba(0,0,0,.12);
            margin: 4px;
        }
        .inv-item:hover {
            background-color: #555;
            cursor: pointer;
        }
        .itemstack {
            position: relative;
            width: 32px;
            height: 32px;
        }
        .itemstack img {
            position: absolute;
            top: 0;
            left: 0;
        }
        .inv-bag {
            max-height: 174px;
            overflow-y: auto;
        }
        .inv-hotkey {
            position: absolute;
            padding: 0 4px;
            font-size: 0.8em;
            color:#fff;
            top: 0;
            right: 0;
            background-color: rgba(0,0,0,0.7);
            border-radius: 2px;
        }
        .inv-stacksize,
        .inv-volume {
            position: absolute;
            left: 0;
            bottom: -2px;
        }
        .inv-stacksize-inner,
        .inv-volume-inner {
            padding: 0 4px;
            font-size: 0.8em;
            color:#fff;
            background-color: rgba(0,0,0,0.7);
            border-radius: 2px;
            display: inline-block;
        }
        .item-btn {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: transparent;
        }
        .qa-bar .inv-item:hover {
            background-color: #555 !Important;
        }
        .qa-bar .inv-item-empty:hover {
            background-color: transparent !Important;
        }
        .qa-bar .inv-item {
            margin: 4px 8px;
        }
        .qa-bar .inv-stacksize,
        .qa-bar .inv-volume {
            bottom: -24px;
            width: 60px;
            left: 50%;
            margin-left: -30px;
            text-align: center;
        }
        #matitem-popover {
            /*display: none;*/
        }
        .inv-item-info {
            display: none;
        }
        .item-info-desc {

        }
        .item-info-table td 
        {
            text-align: center;
            padding: 0 8px;
        }
        .delete-menu-div {
            display: none;
        }
        .delete-menu {
            position: absolute;
            right: 6px;
            top: 6px;
        }
        .delete-menu-btns {
            text-align: center;
            width: 100%;
        }
        .delete-menu-btns .btn {
            /*margin: 4px;*/
        }
        .inv-item-empty {
            background-color: rgba(255,255,255,0.5);
        }
        .item-info-table {
            width: 100%;
        }
        .qa-bar {
            position: absolute;
            left: 50%;
            margin-left: -280px;
            width: 560px;
            top: 8px;
            text-align: center;
        }

        .durability {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            margin: 0;
            height: 4px;
            background: #f00;
        }
        .durability .progress-bar:last-child:before{display:block;content:'div::before';position:absolute;width:100%;height:100%;left:0;right:0;z-index:-1;background-color:#f00;}
    </style>
    <div id="cl-menu" class="ingame-overlay">
        <div class="valign">
            <div style="height:32px;">&nbsp;</div>
            <!-- Inventory -->
            <ui name="Inventory" id="inv-ui" onAdd="function(ui) { $(ui).find('.delete-menu').popover(); }">
                <div class="panel panel-default">
                    <div class="panel-heading">Recipes</div>
                    <div class="panel-body inv-bag">
                        <uicollection name="RecipeItems" class="inv-items"></uicollection>
                    </div>
                </div>
                <div class="panel panel-default">
                    <div class="panel-heading">Ingredients</div>
                    <div class="panel-body inv-bag">
                        <uicollection name="CraftingItems" class="inv-items"></uicollection>
                    </div>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading">Tools</div>
                    <div class="panel-body inv-bag">
                        <uicollection name="ToolItems" class="inv-items"></uicollection>
                    </div>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading">Terrain Resources</div>
                    <div class="panel-body inv-bag">
                        <uicollection name="ResourceItems" class="inv-items"></uicollection>
                    </div>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading" style="position:relative;">Physics Items 
                        <a tabindex="0" class="btn btn-default btn-sm delete-menu" role="button" data-html="true" data-placement="auto bottom" data-container="body" data-toggle="popover" title="For low physics performance" data-content="content">Deletion Menu <span class="caret"></span></a>
                    </div>
                    <div class="panel-body inv-bag">
                        <uicollection name="MaterialItems" class="inv-items"></uicollection>
                    </div>
                </div>

                <div class="delete-menu-div">
                    <div class="delete-menu-btns btn-group-vertical InputConsumer" style="margin-bottom:8px;">
                        <a class="btn btn-danger" onclick="EfficientUI.SendCallback($('#inv-ui'), 'DeletePhysics', {del: true, dyn: false});">Delete All Static Items</a>
                        <a class="btn btn-danger" onclick="EfficientUI.SendCallback($('#inv-ui'), 'DeletePhysics', {del: true, dyn: true});">Delete All Dynamic Items</a>
                    </div>
                    <div class="delete-menu-btns btn-group-vertical InputConsumer">
                        <a class="btn btn-warning" onclick="EfficientUI.SendCallback($('#inv-ui'), 'DeletePhysics', {del: false, dyn: false});">Collect All Static Items</a>
                        <a class="btn btn-warning" onclick="EfficientUI.SendCallback($('#inv-ui'), 'DeletePhysics', {del: false, dyn: true});">Collect All Dynamic Items</a>
                    </div>
                </div>

                <uiobject name="IsUIOpen" onvalue="function(el, val) { $('#ui-body').css('display', val ? 'block' : 'none'); $('.popover').remove(); }"></uiobject>
                <uiobject name="IsInventoryOpen" onvalue="function(el, val) { $('.ingame-overlay').css('display', val ? 'block' : 'none'); $('.popover').remove(); }"></uiobject>
                <uiobject name="CanDeletePhysics" onvalue="function(el, val) { $('.delete-menu').css('display', val ? 'block' : 'none'); }"></uiobject>
                <uiobject name="DeleteMenuRed" onvalue="function(el, val) { $('.delete-menu').attr('class', val ? 'btn btn-danger btn-sm delete-menu' : 'btn btn-default btn-sm delete-menu'); }"></uiobject>
            </ui>
            <script type="text/javascript">
                $(function(){
                    $('.delete-menu').attr('data-content', $('.delete-menu-div').html());
                });
            </script>
            <uitemplate name="RecipeItem" class="inv-item">
                <uicollection name="IconStack" class="itemstack"></uicollection>
                <a class="item-btn" onclick="EfficientUI.SendCallback(this, 'SelectMe')"></a>
            </uitemplate>
            <uitemplate name="CraftingItem" class="inv-item">
                <uicollection name="IconStack" class="itemstack"></uicollection>
                <a class="item-btn" onclick="EfficientUI.SendCallback(this, 'SelectMe')"></a>
                <div class="inv-stacksize"><uistring name="StackSize" tag="div" class="inv-stacksize-inner"></uistring></div>
                <uiobject name="Name" onvalue="function(el, val) { $(el).parent().children('a').attr('data-original-title', val); }"></uiobject>
                <a tabindex="0" class="item-btn" role="button" data-html="true" data-placement="auto bottom" data-container="body" data-toggle="popover" title="title" data-content="content" onclick="EfficientUI.SendCallback(this, 'SelectMe')"></a>
                <div class="inv-item-info"><uicollection name="ItemInfo"></uicollection></div>
            </uitemplate>
            <uitemplate name="ToolItem" class="inv-item">
                <uicollection name="IconStack" class="itemstack"></uicollection>
                <uistring name="Hotkey" tag="div" class="inv-hotkey"></uistring>
                <div class="inv-stacksize"><uistring name="StackSize" tag="div" class="inv-stacksize-inner"></uistring></div>
                <uiobject name="Name" onvalue="function(el, val) { $(el).parent().children('a').attr('data-original-title', val); }"></uiobject>
                <a tabindex="0" class="item-btn" role="button" data-html="true" data-placement="auto bottom" data-container="body" data-toggle="popover" title="title" data-content="content" onclick="EfficientUI.SendCallback(this, 'SelectMe')"></a>
                <div class="inv-item-info"><uicollection name="ItemInfo"></uicollection></div>
                <div class="progress durability">
                    <div class="progress-bar progress-bar-success durability-pb"></div>
                </div>
                <uiobject name="Durability" onvalue="function(el, val) { var pb = $(el).parent().children('.durability'); pb.css('display', val < 0 || val == 1 ? 'none' : 'block'); if (val >= 0) pb.children('.durability-pb').css('width', val * 100 + '%'); }"></uiobject>
            </uitemplate>
            <uitemplate name="ResourceItem" class="inv-item">
                <uicollection name="IconStack" class="itemstack"></uicollection>
                <div class="inv-volume"><uistring name="Volume" tag="div" class="inv-volume-inner"></uistring></div>
                <uistring name="Hotkey" tag="div" class="inv-hotkey"></uistring>
                <uiobject name="Name" onvalue="function(el, val) { $(el).parent().children('a').attr('data-original-title', val); }"></uiobject>
                <a href="#" tabindex="0" class="item-btn" role="button" data-html="true" data-placement="auto bottom" data-container="body" data-toggle="popover" title="title" data-content="content" onclick="EfficientUI.SendCallback(this, 'SelectMe')"></a>
                <div class="inv-item-info"><uicollection name="ItemInfo"></uicollection></div>
            </uitemplate>
            <uitemplate name="MaterialItem" class="inv-item">
                <uicollection name="IconStack" class="itemstack"></uicollection>
                <div class="inv-stacksize"><uistring name="StackSize" tag="div" class="inv-stacksize-inner"></uistring></div>
                <uistring name="Hotkey" tag="div" class="inv-hotkey"></uistring>
                <uiobject name="Name" onvalue="function(el, val) { $(el).parent().children('a').attr('data-original-title', val); }"></uiobject>
                <a href="#" tabindex="0" class="item-btn" role="button" data-html="true" data-placement="auto bottom" data-container="body" data-toggle="popover" title="title" data-content="content" onclick="EfficientUI.SendCallback(this, 'SelectMe');"></a>
                <div class="inv-item-info"><uicollection name="ItemInfo"></uicollection></div>
            </uitemplate>
            <uitemplate name="ItemIcon">
                <uiimage name="Icon" width="32" height="32" class="img-rounded"></uiimage>
            </uitemplate>
            <script type="text/javascript">
                function setupItemPopover(el)
                {
                    var item = $(el).closest('.inv-item');
                    var itemInfo = item.children('.inv-item-info');
                    var popover = item.children('.item-btn');
                    popover.on('show.bs.popover', function() { 
                        popover.attr('data-content', itemInfo.html()); 
                    });
                }
            </script>
            <uitemplate name="ItemInfo" class="InputConsumer" oninstance="function(el) { setupItemPopover(el); }">
                <uistring name="Description" class="item-info-desc" tag="em"></uistring>
                <table class="item-info-table">
                    <tr>
                        <td>Actions</td>
                        <td>Shortcut</td>
                    </tr>
                    <tr>
                        <td>
                            <div class="btn-group btn-group-vertical btn-group-sm">
                                <a name="BtnDrop" class="btn btn-primary" onclick="EfficientUI.SendCallback(this, 'BtnDrop');">Drop One</a>
                                <a name="BtnDestroy" class="btn btn-danger" onclick="EfficientUI.SendCallback(this, 'BtnDestroy');">Destroy All</a>
                            </div>
                            <uiobject name="IsDroppable" onvalue="function(el, val) { var btn = $(el).parent().find('[name=BtnDrop]'); if (val) btn.removeClass('disabled'); else btn.addClass('disabled'); }"></uiobject>
                            <uiobject name="IsDestructible" onvalue="function(el, val) { var btn = $(el).parent().find('[name=BtnDestroy]'); if (val) btn.removeClass('disabled'); else btn.addClass('disabled'); }"></uiobject>
                        </td>
                        <td>
                            <div class="shortcut-field">
                                <div>
                                    <div class="btn-group btn-group-xs" role="group">
                                        <a class="btn btn-primary" onclick="EfficientUI.SendCallback(this, 'SetHotkey', { idx: 0 });">1</a>
                                        <a class="btn btn-primary" onclick="EfficientUI.SendCallback(this, 'SetHotkey', { idx: 1 });">2</a>
                                        <a class="btn btn-primary" onclick="EfficientUI.SendCallback(this, 'SetHotkey', { idx: 2 });">3</a>
                                    </div>
                                </div>
                                <div>
                                    <div class="btn-group btn-group-xs" role="group">
                                        <a class="btn btn-primary" onclick="EfficientUI.SendCallback(this, 'SetHotkey', { idx: 3 });">4</a>
                                        <a class="btn btn-primary" onclick="EfficientUI.SendCallback(this, 'SetHotkey', { idx: 4 });">5</a>
                                        <a class="btn btn-primary" onclick="EfficientUI.SendCallback(this, 'SetHotkey', { idx: 5 });">6</a>
                                    </div>
                                </div>
                                <div>
                                    <div class="btn-group btn-group-xs" role="group">
                                        <a class="btn btn-primary" onclick="EfficientUI.SendCallback(this, 'SetHotkey', { idx: 6 });">7</a>
                                        <a class="btn btn-primary" onclick="EfficientUI.SendCallback(this, 'SetHotkey', { idx: 7 });">8</a>
                                        <a class="btn btn-primary" onclick="EfficientUI.SendCallback(this, 'SetHotkey', { idx: 8 });">9</a>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
                <table class="item-convert" style="width:100%; text-align:center; margin-top:12px;">
                    <tr>
                        <td>
                            Convert to Terrain Resource:
                            <div>
                                <div class="btn-group">
                                    <a name="BtnConvertOne" class="btn btn-primary" onclick="EfficientUI.SendCallback(this, 'BtnConvertOne');">One</a>
                                    <a name="BtnConvertAll" class="btn btn-primary" onclick="EfficientUI.SendCallback(this, 'BtnConvertAll');">All</a>
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
                <uiobject name="IsConvertible" onvalue="function(el, val) { var btn = $(el).parent().children('.item-convert').css('display', val ? 'table' : 'none'); if (val) btn.removeClass('disabled'); else btn.addClass('disabled'); }"></uiobject>
            </uitemplate>
        </div>
    </div>

    <!-- Right-centerd -->
    <style type="text/css">
        #cr-menu {
            position: absolute;
            left: 50%;
            margin-left: 100px;
            top: 30px;
            bottom: 30px;
            white-space: nowrap;
        }
        #cr-menu:before {
            content: "";
            display: inline-block;
            vertical-align: middle;
            width: 0;
            margin-right: -.25em;
            height: 100%;
        }
        #cr-menu > .valign {
            display: inline-block;
            vertical-align: middle;
            width: 420px;
        }
        #cr-menu .btn-table tr:first-child td {
            padding-top: 0;
        }
        #cr-menu .btn-table td:first-child {
            padding-right: 12px;      
        }
        #cr-menu .btn-table td {
            padding-top: 8px;
        }
        .sliderbar .ui-slider-range { background: #2196f3; }
      .slider-cell { padding-left: 1em; padding-right: 1em; width: 100%; }
      .craft-settings-table td {
        vertical-align: middle;
      }
      .material-icon {
        position: absolute;
        right: 4px;
        top: 50%;
        margin-top: -16px;
      }
      .shortcut-field > div {
        height: 21px;
      }
    </style>
    <div id="cr-menu" class="ingame-overlay">
        <div class="valign">
            <div style="height:32px;">&nbsp;</div>
            <!-- Digging settings -->
            <div class="usage-settings">
            <ui name="Digging" class="panel panel-default">
                <div class="panel-heading"><uistring name="Title" tag="span"></uistring> Settings</div>
                <div class="panel-body">
                    <table class="btn-table">
                    <tr class="s-settings">
                        <td>Shape</td>
                        <td>
                            <div class="btn-group btn-group-justified">
                              <uibutton name="ShapeSphere" tag="a" class="btn btn-sm btn-primary btn-shape-1">Sphere</uibutton>
                              <uibutton name="ShapeBox" tag="a" class="btn btn-sm btn-default btn-shape-2">Box</uibutton>
                              <uibutton name="ShapeCylinder" tag="a" class="btn btn-sm btn-default btn-shape-3">Cylinder</uibutton>
                              <uibutton name="ShapeCone" tag="a" class="btn btn-sm btn-default btn-shape-4">Cone</uibutton>
                            </div>
                        </td>
                    </tr>
                    
                    <tr class="p-settings">
                        <td>Pivot</td>
                        <td>
                            <div class="btn-group btn-group-justified">
                              <uibutton name="PivotTop" tag="a" class="btn btn-sm btn-default btn-pivot-1">Top</uibutton>
                              <uibutton name="PivotCenter" tag="a" class="btn btn-sm btn-primary btn-pivot-2">Center</uibutton>
                              <uibutton name="PivotBottom" tag="a" class="btn btn-sm btn-default btn-pivot-3">Bottom</uibutton>
                            </div>
                        </td>
                    </tr>
                    
                    <tr class="physics-settings">
                        <td>Physics</td>
                        <td>
                            <div class="btn-group btn-group-justified">
                              <uibutton name="PhysicsThrown" tag="a" class="btn btn-sm btn-default btn-physics-1">Thrown</uibutton>
                              <uibutton name="PhysicsDynamic" tag="a" class="btn btn-sm btn-primary btn-physics-2">Dynamic</uibutton>
                              <uibutton name="PhysicsStatic" tag="a" class="btn btn-sm btn-default btn-physics-3">Static</uibutton>
                            </div>
                        </td>
                    </tr>
                    
                    <tr class="replacement-settings">
                        <td>Replacement</td>
                        <td>
                            <div class="btn-group btn-group-justified">
                              <uibutton name="ReplaceAir" tag="a" class="btn btn-sm btn-primary btn-replace-2">Air</uibutton>
                              <uibutton name="ReplaceMaterial" tag="a" class="btn btn-sm btn-default btn-replace-3">Material</uibutton>
                              <uibutton name="ReplaceAll" tag="a" class="btn btn-sm btn-default btn-replace-1">All</uibutton>
                            </div>
                        </td>
                    </tr>
                    
                    <tr class="p-settings">
                        <td>Alignment</td>
                        <td>
                            <div class="btn-group btn-group-justified">
                              <uibutton name="AlignAxis" tag="a" class="btn btn-sm btn-primary btn-align-1">Axis</uibutton>
                              <uibutton name="AlignView" tag="a" class="btn btn-sm btn-default btn-align-2">View</uibutton>
                              <uibutton name="AlignTerrain" tag="a" class="btn btn-sm btn-default btn-align-3">Terrain</uibutton>
                              <uibutton name="AlignGrid" tag="a" class="btn btn-sm btn-default btn-align-4">Grid</uibutton>
                            </div>
                        </td>
                    </tr>

                    <tr class="angle-settings">
                        <td>Grid Angle</td>
                        <td>
                            <table style="width:100%;">
                                <tr>                              
                                    <td style="width:100%;"><uislider name="AxisAngle" options="{range:'min'}" class="sliderbar"></uislider></td>
                                    <td style="width:24px;"><uistring name="AxisAngleString" tag="span" style="width:24px;"></uistring></td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                    <tr class="gridsize-settings">
                        <td>Grid Size</td>
                        <td>
                            <table style="width:100%;">
                                <tr>                              
                                    <td style="width:100%;"><uislider name="GridSize" options="{range:'min'}" class="sliderbar"></uislider></td>
                                    <td style="width:24px;"><uistring name="GridSizeString" tag="span" style="width:24px;"></uistring></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    </table>
                    <uiobject name="HasReplacement" onvalue="function(el, val) { $('.replacement-settings').css('display', val ? 'table-row' : 'none'); }"></uiobject>
                    <uiobject name="HasPhysics" onvalue="function(el, val) { $('.physics-settings').css('display', val ? 'table-row' : 'none'); }"></uiobject>
                    <uiobject name="HasShape" onvalue="function(el, val) { $('.s-settings').css('display', val ? 'table-row' : 'none'); }"></uiobject>
                    <uiobject name="HasPivotAlignment" onvalue="function(el, val) { $('.p-settings').css('display', val ? 'table-row' : 'none'); }"></uiobject>
                    <uiobject name="HasGridAngle" onvalue="function(el, val) { $('.angle-settings').css('display', val ? 'table-row' : 'none'); }"></uiobject>
                    <uiobject name="HasGridSize" onvalue="function(el, val) { $('.gridsize-settings').css('display', val ? 'table-row' : 'none'); }"></uiobject>

                    <uiobject name="CurrentShape" onvalue="function(el, val) { onUsageCurrent(val, 'shape', 4); }"></uiobject>
                    <uiobject name="CurrentAlign" onvalue="function(el, val) { onUsageCurrent(val, 'align', 4); }"></uiobject>
                    <uiobject name="CurrentPivot" onvalue="function(el, val) { onUsageCurrent(val, 'pivot', 3); }"></uiobject>
                    <uiobject name="CurrentReplace" onvalue="function(el, val) { onUsageCurrent(val, 'replace', 3); }"></uiobject>
                    <uiobject name="CurrentPhysics" onvalue="function(el, val) { onUsageCurrent(val, 'physics', 3); }"></uiobject>
                </div>
                <uiobject name="HasUsageSettings" onvalue="function(el, val) { $('.usage-settings').css('display', val ? 'block' : 'none'); }"></uiobject>
            </ui>
            </div>
            <!-- Recipes -->
            <style type="text/css">
            .ingredientitem .itemstack{
                position: absolute;
                right: 12px;
                top: 12px;
            }
            .ingredientitem {
                position: relative;
            }
            .ingredientitem h4{
                margin: 0;
            }
            </style>
            <div class="recipe">
            <ui name="Recipe" class="panel panel-default">
                <div class="panel-heading">Craft Items from other items</div>
                <div class="panel-body">
                    <p style="position:relative;">
                        Recipe: <uistring name="ResultName" tag="b" class="text-info"></uistring><br>
                        <uicollection name="ResultIconStack" class="itemstack"></uicollection>
                        <uistring name="ResultAmount" class="text-info"></uistring>
                    </p>
                    Ingredients:
                    <uicollection name="IngredientItems" class="list-group"></uicollection>

                    <div style="text-align:center">
                        <uibutton name="BtnCraft" class="btn btn-primary disabled btn-craft-recipe" tag="a">Craft a XYZ</uibutton>
                    </div>
                </div>
                <uiobject name="HasRecipeSettings" onvalue="function(el, val) { $('.recipe').css('display', val ? 'block' : 'none'); }"></uiobject>
                <uiobject name="CraftingString" onvalue="function(el, val) { $('.btn-craft-recipe').html(val); }"></uiobject>
                <uiobject name="CanCraft" onvalue="function(el,val) { var e = $(el).parent().find('.btn-craft-recipe'); if(!val) e.addClass('disabled'); else e.removeClass('disabled');}"></uiobject>
            </ui>
            <uitemplate name="IngredientItem" class="list-group-item ingredientitem" tag="a">
                    <h4 class="list-group-item-heading">
                        <uistring name="Amount" class="text-info" tag="span"></uistring>
                        <uistring name="Name" tag="b"></uistring>
                        <uicollection name="Icon" class="itemstack"></uicollection>
                    </h4>
                    <p class="list-group-item-text">
                        <uistring name="Dimensions" class="text-info" tag="span"></uistring>
                    </p>
                    <uiobject name="IsAvailable" onvalue="function(el,val) { var e = $(el).parent(); if(!val) e.addClass('list-group-item-danger'); else e.removeClass('list-group-item-danger');}"></uiobject>
                    <uiobject name="HasDimensions" onvlaue="function(el, val) { $('.list-group-item-text').css('display', val ? 'block' : 'none'); }"></uiobject>
            </uitemplate>
            </div>
            <!-- Crafting -->
            <div class="crafting">
            <ui name="Crafting" class="panel panel-default">
                <div class="panel-heading">Craft Items from Terrain Materials</div>
                <div class="panel-body">
                    <div class="btn-group btn-group-justified">
                        <uibutton name="BtnBox" tag="a" class="btn btn-sm btn-default btn-craft-0">Box</uibutton>
                        <uibutton name="BtnSphere" tag="a" class="btn btn-sm btn-default btn-craft-1">Sphere</uibutton>
                        <uibutton name="BtnCylinder" tag="a" class="btn btn-sm btn-default btn-craft-2">Cylinder</uibutton>
                    </div>

                    <br>
                    <uicollection name="BoxSettings"></uicollection>
                    <uicollection name="SphereSettings"></uicollection>
                    <uicollection name="CylinderSettings"></uicollection>
                    <br>

                    <p style="position:relative;">
                        Selected Material: <uistring name="SelectedMaterialName" tag="b" class="text-info"></uistring><br>
                        <uiimage name="SelectedMaterialIcon" class="img-rounded material-icon" width="32" height="32" hideOnEmpty></uiimage>

                        Required Volume: <b class="text-info req-volume"><uistring name="RequiredVolumeInCubicMeter" tag="span"></uistring> m&sup3;</b> 
                        (of <b class="text-info"><uistring name="CurrentVolumeInCubicMeter" tag="span"></uistring> m&sup3;</b>)<br>

                        Weight: <b class="text-info"><uistring name="MassInKg" tag="span"></uistring> kg</b> 
                    </p>

                    <div style="text-align:center">
                        <uibutton name="BtnCraft" class="btn btn-primary disabled btn-craft" tag="a">Craft a XYZ</uibutton>
                    </div>
                </div>
                <uiobject name="HasCraftingSettings" onvalue="function(el, val) { $('.crafting').css('display', val ? 'block' : 'none'); }"></uiobject>
                <uiobject name="TypeSelection" onvalue="function(el, val) { onCraftTypeSelect(val); }"></uiobject>
                <uiobject name="CanCraft" onvalue="function(el, val) { onCanCraft(val); }"></uiobject>
            </ui>
            <uitemplate name="CraftBoxSettings">
                <table class="craft-settings-table">
                    <tr>
                        <td>Width</td>
                        <td class="slider-cell"><uislider name="Width" options="{range:'min'}" class="sliderbar"></uislider></td>
                        <td><uistring name="WidthInMeter" class="text-info" tag="span"></uistring></td>
                    </tr>
                    <tr>
                        <td>Height</td>
                        <td class="slider-cell"><uislider name="Height" options="{range:'min'}" class="sliderbar"></uislider></td>
                        <td><uistring name="HeightInMeter" class="text-info" tag="span"></uistring></td>
                    </tr>
                    <tr>
                        <td>Depth</td>
                        <td class="slider-cell"><uislider name="Depth" options="{range:'min'}" class="sliderbar"></uislider></td>
                        <td><uistring name="DepthInMeter" class="text-info" tag="span"></uistring></td>
                    </tr>
                </table>
            </uitemplate>
            <uitemplate name="CraftSphereSettings">
                <table class="craft-settings-table">
                    <tr>
                        <td>Radius</td>
                        <td class="slider-cell"><uislider name="Radius" options="{range:'min'}" class="sliderbar"></uislider></td>
                        <td><uistring name="RadiusInMeter" class="text-info" tag="span"></uistring></td>
                    </tr>
                </table>
            </uitemplate>
            <uitemplate name="CraftCylinderSettings">
                <table class="craft-settings-table">
                    <tr>
                        <td>Radius</td>
                        <td class="slider-cell"><uislider name="Radius" options="{range:'min'}" class="sliderbar"></uislider></td>
                        <td><uistring name="RadiusInMeter" class="text-info" tag="span"></uistring></td>
                    </tr>
                    <tr>
                        <td>Height</td>
                        <td class="slider-cell"><uislider name="Height" options="{range:'min'}" class="sliderbar"></uislider></td>
                        <td><uistring name="HeightInMeter" class="text-info" tag="span"></uistring></td>
                    </tr>
                </table>
            </uitemplate>
        </div>
        </div>
    </div>

    <!-- Quick Access -->
    <ui name="QuickAccess" class="qa-bar">
        <uicollection name="Bar"></uicollection>
    </ui>
    <uitemplate name="QuickItem">
        <uicollection name="ThisItem"></uicollection>
        <uiobject name="IsSelected" onvalue="function(el, val) { $(el).parent().find('.inv-item').css('background', val ? 'rgba(255,0,0,0.5)' : 'rgba(255,255,255,0.5)'); }"></uiobject>
    </uitemplate>
    <uitemplate name="QuickItem" empty>
        <div class="inv-item inv-item-empty" style="width:40px; height: 40px;"></div>
    </uitemplate>

    <!-- Resource progress -->
    <div id="resource-download-progress" class="panel panel-default" style="display: none;">
        <span class="text-info">loading assets from resource server...</span>
        <div class="progress progress-striped active" style="position: relative;">
            <div id="resource-download-progress-bar" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>
            <!--<div style="position: absolute; left: 0px; padding: 2px;"><i class="fa fa-cloud-download"></i></div>-->
        </div>
    </div>

    <div id="screen-overlay" style="display: none;"></div>

    <div id="generating-world-notice" style="display: none;">
        <i class="fa fa-cog fa-spin"></i> Generating
    </div>

    <script src="IngameGui.js"></script>
    <script>
        $(function() {
            setupGui();
        });
    </script>

    <script type="text/javascript">EfficientUI.addTemplateUrl("StatsAndMemFailsafe.html");</script>
    <hud name="Global">
        <uicollection name="Stats"></uicollection>
        <uicollection name="MemoryFailsafe"></uicollection>
    </hud>
  </body>
</html>
