<!DOCTYPE html>

<html style="height:100%;">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="/Mods/Upvoid/Web.Tools.Common/1.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="paper.bootstrap.min.css">
    <script src="/Mods/Upvoid/Web.Tools.Common/1.0.0/js/jquery-2.0.3.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="/Mods/Upvoid/Web.Tools.Common/1.0.0/js/bootstrap.min.js"></script>
    <script src="/Mods/Upvoid/EfficientUI/1.0.0/js/efficientUI.js" type="text/javascript" charset="utf-8"></script>
    <script src="/Mods/Upvoid/Web.Tools.Common/1.0.0/js/jquery-ui.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="/Mods/Upvoid/Web.Tools.Plots/1.0.0/plots/plots.js"></script>
    <title>UpvoidMiner</title>
    <style type="text/css">
      .upvoid-debug
      {
         display:none !Important;
      }
    </style>
</head>
<body style="background: transparent; padding: 1%; height: 100%; overflow: hidden;">
  <p style="color: #c00; position: absolute; background: rgba(255,255,255,0.5); padding: 5px;"><i class="fa fa-warning"></i> This is an beta version. Expect crashes and bugs. <br> Please report any problems at <a href="javascript:clickCommunity()">community.upvoid.com</a>.</p>
    <div id="menu" class="panel panel-default upvoid-debug-menu InputConsumer" style="width: 75%; max-width: 400px; margin: 7% auto auto auto; overflow-y:auto;">
        <div class="panel-body text-center">
            <h1>UpvoidMiner</h1>

            <ul class="nav nav-pills nav-stacked">
                <li id="start-button-adventure"><a href="javascript: clickStart(false)"><big><b>Start Adventure Mode</b></big></a></li>
                <li id="start-button-god"><a href="javascript: clickStart(true)"><big><b>Start God Mode</b></big></a></li>
                                <li>&nbsp;</li>
                <li><a href="Settings.html">Settings</a></li>
                <li><a href="Controls.html">Controls</a></li>
                <li><a href="Credits.html">Credits</a></li>
                <li><a href="javascript:clickCommunity()"><i class="fa fa-external-link"></i> Community<br><small>(also for feedback and bug reports)</small></a></li>
                <li class="upvoid-debug"><a href="javascript:clickStats()"><i class="fa fa-external-link"></i> Statistics Webpage</a></li>
                <li class="upvoid-debug"><a href="javascript:clickReport()"><i class="fa fa-external-link"></i> Engine Report</a></li>
                <li><a href="javascript: clickQuit()">Quit</a></li>
            </ul>


        </div>
    </div>

    <script>

        $.get("/Mods/Upvoid/UpvoidMiner/0.0.1/IsPlayerActivated", "", function (data) {
            if (data === "True")
                        {
                                $('#start-button-adventure').html("<a href='javascript: clickStart(false)'><big><b>Continue</b></big></a>");
                                $('#start-button-god').html("");
                        }
        });

        function clickStart(godMode)
        {
            $.get("/Mods/Upvoid/UpvoidMiner/0.0.1/ActivatePlayer?GodMode="+(godMode===true), "", function() {window.location.href = "IngameGui.html";});

                        $('#start-button-adventure').html("<h2>Loading...</h2>");
                        $('#start-button-god').html("");
        }

        function clickQuit()
        {
            $.get("/Mods/Upvoid/UpvoidMiner/0.0.1/QuitGame");
        }

        function clickCommunity()
        {
            $.get("OpenSiteInBrowser?url=https://community.upvoid.com/");
        }

        function clickStats()
        {
            $.get("/Mods/Upvoid/UpvoidMiner/0.0.1/OpenSiteInBrowser?url=" + window.location.origin + "/Engine/Statistics/Labels");
        }

        function clickReport()
        {
            $.get("/Mods/Upvoid/UpvoidMiner/0.0.1/OpenSiteInBrowser?url=" + window.location.origin + "/Engine/Report");
        }

      if ($(location).attr('search') == '?Debug')
      {
         $('.upvoid-debug').removeClass("upvoid-debug");
         $('.upvoid-debug-menu').css("max-height", "527px");
      }

      function menuResize() {
        var menu = $('#menu');
        var top = menu.offset().top;
        var winheight = $(window).height();
        menu.css("max-height", (winheight - top - 32) + "px");
      }
      $(function() { menuResize(); });
      $(window).resize(function() { menuResize(); });

    </script>


    <script type="text/javascript">EfficientUI.addTemplateUrl("StatsAndMemFailsafe.html");</script>
    <hud name="Global">
        <uicollection name="Stats"></uicollection>
        <uicollection name="MemoryFailsafe"></uicollection>
    </hud>
</body>
</html>
